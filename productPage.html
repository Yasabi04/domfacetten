<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Domfacetten - Produktübersicht</title>
    <link rel="stylesheet" href="./css/base.css">
    <link rel="stylesheet" href="./css/body.css">
    <link rel="stylesheet" href="./css/header.css">
    <link rel="stylesheet" href="./css/footer.css">
    <link rel="icon" href="../images/smallLogo.png" type="image/png">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Libre+Bodoni:ital,wght@0,400..700;1,400..700&family=Rufina:wght@400;700&display=swap" rel="stylesheet">
</head>
<body>
    <header>
        <nav class = "mainNavBar">
            <ul>
                <li><a href="index.html">Hauptseite</a></li>
                <li><a href="productPage.html">Alle Produkte</a></li>
                <li><a href="">Gespeichert</a></li>
                <li><a href="">Suche</a></li>
            </ul>
        </nav>
    </header>




    <main>
        <section class = "productOverview">
            <h1>Alle Produkte</h1>
            <hr>
            <div id="product-container"></div>

        </section>
    </main>




    <footer>
        <nav>
            <ul class = "footertext">
                <li><a href="about.html">Über uns</a></li>
                <li><a href="service.html">Service</a></li>
                <li><a href="rechtliches.html">Rechtliches</a></li>
                <li><a href="https://www.instagram.com/domfacetten/">Folgen Sie uns auf Instagram!</a></li>
            </ul>
        </nav>
    </footer>
</body>
<script>
    const csvData = `Bezeichnung;ArtNr;Preis;Farben
        Armband;1234;3.75;ambergreen,borealis,crystalpurple
        Armband2;097124;4.50;black,white
        Armband3;0911;13.99;auratiumgold,technogreen,bridgeblue`;

    // CSV-Daten in ein Array von Objekten parsen
    function parseCSV(data) {
        const lines = data.split('\n');
        const headers = lines[0].split(';'); // Verwende hier das richtige Trennzeichen
        return lines.slice(1).map(line => {
            const values = line.split(';'); // Verwende auch hier das richtige Trennzeichen
            const obj = {};
            headers.forEach((header, index) => {
                obj[header.trim()] = values[index]?.trim().replace(/"/g, '');
            });
            return obj;
        });
    }

    // Produktkarten erstellen und in die HTML-Seite einfügen
    function createProductCards(products) {
        const container = document.getElementById('product-container');
        products.forEach(product => {
            const card = document.createElement('article');
            card.className = 'productCard';

            // Farben in ein Array umwandeln und Dropdown-Optionen erstellen
            const colorOptions = product.Farben.split(',').map(color => `<option value="${color.trim()}">${color.trim()}</option>`).join('');

            card.innerHTML = `
                <img src="./images/bracelet1.png" alt="Produkt">
                <h2>${product.Bezeichnung}</h2>
                <select id="colorSelect">
                    <option value="">Farben ansehen!</option>
                    ${colorOptions}
                </select>
                <h3>Preis: ${product.Preis}$</h3>
                <h4>Artikelnr: ${product.ArtNr}</h4>
            `;
            container.appendChild(card);
        });
    }

    // CSV-Daten parsen und Produktkarten erstellen
    const products = parseCSV(csvData);
    createProductCards(products);        
</script>
</body>
</html>
    